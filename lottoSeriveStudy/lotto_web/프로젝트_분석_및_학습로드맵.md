# ? 현재 프로젝트 분석 및 단계별 학습 로드맵

## ? 현재 프로젝트 기술 스택 분석

### ? **현재 사용 중인 기술**

#### **백엔드 프레임워크**
- ? **Spring Boot 2.7.18** - 이미 사용 중
- ? **Java 11** - 이미 사용 중
- ? **Spring MVC** - Controller, Service 계층 사용 중

#### **데이터베이스**
- ? **MariaDB** (MySQL 호환) - 이미 사용 중
- ? **JDBC** - JdbcTemplate으로 직접 SQL 작성
- ? **JPA 없음** - 현재는 RowMapper로 수동 매핑

#### **프론트엔드**
- ? **JSP + JSTL** - 서버 사이드 렌더링 (SSR)
- ? **RESTful API 없음** - 현재는 View 반환 방식

#### **빌드 도구**
- ? **Maven** - pom.xml 사용 중
- ? **Gradle 없음** - Maven만 사용

#### **인프라 & DevOps**
- ? **Docker 없음**
- ? **Kubernetes 없음**
- ? **CI/CD 없음** (GitHub Actions 없음)
- ? **Redis 없음**
- ? **AWS 없음**

#### **아키텍처**
- ? **MSA 없음** - 모놀리식 구조
- ? **RESTful API 없음** - 현재는 JSP 기반

#### **기타**
- ? **Kafka 없음**
- ? **MongoDB 없음**
- ? **Elasticsearch 없음**
- ? **TypeScript/Node.js 없음**

---

## ? 목표 회사 요구사항 vs 현재 상황

### ? **이미 갖춰진 기술 (유지 및 심화 필요)**
1. ? **Java** - 기본 언어 사용 중
2. ? **Spring Boot** - 이미 사용 중
3. ? **MySQL/MariaDB** - 데이터베이스 사용 중
4. ? **Git** - 버전 관리 (추정)

### ?? **부족한 핵심 기술 (우선 학습 필요)**
1. ? **JPA** - 현재 JDBC 직접 사용 → **최우선**
2. ? **RESTful API** - 현재 JSP만 사용 → **최우선**
3. ? **Docker** - 컨테이너 기술 없음 → **최우선**
4. ? **Redis** - 캐싱 없음 → **중요**
5. ? **GitHub Actions** - CI/CD 없음 → **중요**
6. ? **Kubernetes** - 오케스트레이션 없음 → **고급**

### ? **추가 학습 필요 기술**
1. ? **MSA** - 아키텍처 설계
2. ? **Kafka** - 메시징 시스템
3. ? **MongoDB** - NoSQL
4. ? **AWS** - 클라우드 인프라
5. ? **Gradle** - 빌드 도구 다양성

---

## ? 단계별 학습 로드맵 (Step by Step)

### **Phase 1: 백엔드 핵심 강화 (1-2주) ??? 최우선**

#### **Step 1-1: JPA 적용 (1주)**
**목표**: 현재 JDBC 기반 코드를 JPA로 전환

**작업 내용**:
1. `pom.xml`에 JPA 의존성 추가
   ```xml
   <dependency>
       <groupId>org.springframework.boot</groupId>
       <artifactId>spring-boot-starter-data-jpa</artifactId>
   </dependency>
   ```

2. `LottoNumber` 엔티티 클래스 생성
   - `@Entity`, `@Id`, `@Column` 어노테이션 사용
   - 현재 모델을 JPA Entity로 변환

3. `LottoRepository` 인터페이스 생성
   - `JpaRepository<LottoNumber, Long>` 상속
   - 쿼리 메서드 작성 (findBy, OrderBy 등)

4. `LottoDAO` 리팩토링
   - JdbcTemplate 대신 Repository 사용
   - 복잡한 쿼리는 `@Query` 어노테이션 활용

**학습 포인트**:
- JPA 기본 개념 (Entity, Repository, 영속성 컨텍스트)
- JPA 쿼리 메서드
- `@Query` 어노테이션 사용법
- 성능 최적화 (N+1 문제, 페치 조인)

**예상 결과**:
- 코드 간결화 (RowMapper 제거)
- 유지보수성 향상
- 타입 안정성 향상

---

#### **Step 1-2: RESTful API 구현 (1주)**
**목표**: 현재 JSP 기반을 REST API로 확장

**작업 내용**:
1. REST Controller 생성
   - `@RestController` 사용
   - `@GetMapping`, `@PostMapping` 등 매핑

2. API 엔드포인트 설계
   ```
   GET    /api/lotto/numbers          - 최신 로또 번호 조회
   POST   /api/lotto/draw             - 로또 번호 추첨
   GET    /api/lotto/history          - 히스토리 조회 (페이징)
   GET    /api/lotto/statistics       - 통계 정보
   ```

3. DTO 클래스 생성
   - `LottoDrawRequestDto`, `LottoDrawResponseDto` 등
   - Request/Response 분리

4. ResponseEntity 사용
   - HTTP 상태 코드 관리
   - 에러 처리 (`@ExceptionHandler`)

**학습 포인트**:
- RESTful API 설계 원칙
- HTTP 메서드 활용 (GET, POST, PUT, DELETE)
- JSON 직렬화/역직렬화
- API 문서화 (Swagger 고려)

**예상 결과**:
- 프론트엔드와 백엔드 분리 가능
- 모바일 앱 연동 가능
- API 테스트 가능 (Postman)

---

### **Phase 2: 인프라 기초 (2-3주) ?? 중요**

#### **Step 2-1: Docker 컨테이너화 (1주)**
**목표**: 프로젝트를 Docker 이미지로 만들기

**작업 내용**:
1. `Dockerfile` 작성
   ```dockerfile
   FROM openjdk:11-jre-slim
   COPY target/lotto-web-1.0.0.jar app.jar
   ENTRYPOINT ["java", "-jar", "/app.jar"]
   ```

2. `docker-compose.yml` 작성
   - 애플리케이션 컨테이너
   - MariaDB 컨테이너
   - 네트워크 설정

3. 멀티 스테이지 빌드 (선택)
   - 빌드 단계와 실행 단계 분리

4. 이미지 빌드 및 실행
   ```bash
   docker build -t lotto-web:1.0 .
   docker run -p 8080:8080 lotto-web:1.0
   ```

**학습 포인트**:
- Docker 기본 명령어
- Dockerfile 작성법
- Docker Compose 사용법
- 컨테이너 vs 가상머신

**예상 결과**:
- 환경 독립성 확보
- 배포 용이성 향상
- 로컬 개발 환경 표준화

---

#### **Step 2-2: Redis 캐싱 적용 (1주)**
**목표**: 자주 조회되는 데이터를 Redis로 캐싱

**작업 내용**:
1. Redis 의존성 추가
   ```xml
   <dependency>
       <groupId>org.springframework.boot</groupId>
       <artifactId>spring-boot-starter-data-redis</artifactId>
   </dependency>
   ```

2. Redis 설정 (`application.properties`)
   ```properties
   spring.redis.host=localhost
   spring.redis.port=6379
   ```

3. 캐싱 적용
   - 최신 로또 번호 캐싱
   - 통계 데이터 캐싱
   - `@Cacheable` 어노테이션 사용

4. `docker-compose.yml`에 Redis 추가

**학습 포인트**:
- Redis 기본 데이터 타입 (String, Hash, List, Set)
- Spring Cache 추상화
- 캐싱 전략 (TTL, Eviction)
- 캐시 무효화

**예상 결과**:
- 응답 속도 향상
- 데이터베이스 부하 감소
- 실시간 데이터 처리 경험

---

#### **Step 2-3: GitHub Actions CI/CD (1주)**
**목표**: 코드 변경 시 자동 빌드 및 테스트

**작업 내용**:
1. `.github/workflows/ci.yml` 생성
   ```yaml
   name: CI
   on: [push, pull_request]
   jobs:
     build:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v2
         - name: Set up JDK 11
           uses: actions/setup-java@v2
         - name: Build with Maven
           run: mvn clean package
         - name: Run tests
           run: mvn test
   ```

2. Docker 이미지 빌드 및 푸시 (선택)
   - Docker Hub 또는 GitHub Container Registry 사용

3. 테스트 자동화
   - 단위 테스트 작성
   - 통합 테스트 작성

**학습 포인트**:
- GitHub Actions 기본 문법
- CI/CD 파이프라인 설계
- 자동화된 테스트
- 빌드 자동화

**예상 결과**:
- 코드 품질 향상
- 배포 프로세스 자동화
- 협업 효율성 향상

---

### **Phase 3: 고급 인프라 (1-2개월) ? 고급**

#### **Step 3-1: Kubernetes 기본 (2-3주)**
**목표**: 로컬 환경에서 Kubernetes 배포

**작업 내용**:
1. 로컬 Kubernetes 환경 구축
   - Minikube 또는 Kind 설치
   - kubectl 설치

2. Kubernetes 리소스 생성
   - `deployment.yaml` - 애플리케이션 배포
   - `service.yaml` - 서비스 노출
   - `configmap.yaml` - 설정 관리
   - `secret.yaml` - 민감 정보 관리

3. 배포 및 테스트
   ```bash
   kubectl apply -f k8s/
   kubectl get pods
   kubectl get services
   ```

4. 로드 밸런싱 테스트

**학습 포인트**:
- Kubernetes 기본 개념 (Pod, Service, Deployment)
- YAML 매니페스트 작성
- kubectl 명령어
- 서비스 디스커버리

**예상 결과**:
- 컨테이너 오케스트레이션 경험
- 확장 가능한 아키텍처 이해
- 프로덕션 배포 준비

---

#### **Step 3-2: AWS 기본 서비스 (2-3주)**
**목표**: AWS Free Tier로 기본 서비스 체험

**작업 내용**:
1. AWS 계정 생성 및 Free Tier 확인
2. EC2 인스턴스 생성
   - 애플리케이션 배포
   - 보안 그룹 설정
3. RDS 인스턴스 생성
   - MariaDB/MySQL 설정
   - 연결 테스트
4. S3 버킷 생성
   - 정적 파일 저장
   - 이미지 업로드 기능 추가
5. Route 53 도메인 연결 (선택)

**학습 포인트**:
- AWS 기본 서비스 이해
- 클라우드 인프라 설계
- 비용 관리
- 보안 설정 (IAM, Security Group)

**예상 결과**:
- 클라우드 환경 운영 경험
- 실제 서비스 배포 경험
- 인프라 관리 능력

---

### **Phase 4: 아키텍처 및 고급 기술 (2-3개월) ? 고급**

#### **Step 4-1: MSA 기초 (1개월)**
**목표**: 모놀리식을 작은 서비스로 분리

**작업 내용**:
1. 서비스 분리 설계
   - 로또 번호 조회 서비스
   - 로또 번호 추첨 서비스
   - 통계 서비스
2. 각 서비스 독립 배포
3. 서비스 간 통신 (REST API)
4. API Gateway 도입 (선택)

**학습 포인트**:
- MSA 아키텍처 패턴
- 서비스 분리 전략
- 분산 트랜잭션 처리
- 서비스 디스커버리

---

#### **Step 4-2: Kafka 기본 (2-3주)**
**목표**: 비동기 메시징 시스템 도입

**작업 내용**:
1. Kafka 로컬 설치
2. Producer 구현
   - 로또 번호 추첨 이벤트 발행
3. Consumer 구현
   - 이벤트 수신 및 처리
4. Docker Compose에 Kafka 추가

**학습 포인트**:
- Kafka 기본 개념 (Topic, Partition, Consumer Group)
- 이벤트 기반 아키텍처
- 메시징 패턴

---

#### **Step 4-3: MongoDB 기본 (2-3주)**
**목표**: NoSQL 데이터베이스 경험

**작업 내용**:
1. MongoDB 설치 및 설정
2. Spring Data MongoDB 적용
3. 통계 데이터를 MongoDB에 저장
4. 집계 쿼리 작성

**학습 포인트**:
- NoSQL vs RDBMS
- MongoDB 쿼리 및 집계
- 문서 기반 데이터 모델링

---

## ? 단계별 체크리스트

### **Phase 1: 백엔드 핵심 강화 (1-2주)**
- [ ] Step 1-1: JPA 의존성 추가 및 Entity 생성
- [ ] Step 1-1: Repository 인터페이스 생성
- [ ] Step 1-1: LottoDAO를 Repository로 전환
- [ ] Step 1-2: REST Controller 생성
- [ ] Step 1-2: API 엔드포인트 구현 (최소 3개)
- [ ] Step 1-2: DTO 클래스 생성
- [ ] Step 1-2: Postman으로 API 테스트

### **Phase 2: 인프라 기초 (2-3주)**
- [ ] Step 2-1: Dockerfile 작성
- [ ] Step 2-1: docker-compose.yml 작성
- [ ] Step 2-1: Docker 이미지 빌드 및 실행 성공
- [ ] Step 2-2: Redis 의존성 추가 및 설정
- [ ] Step 2-2: 캐싱 적용 (최소 2개 엔드포인트)
- [ ] Step 2-2: docker-compose에 Redis 추가
- [ ] Step 2-3: GitHub Actions 워크플로우 생성
- [ ] Step 2-3: 자동 빌드 및 테스트 성공

### **Phase 3: 고급 인프라 (1-2개월)**
- [ ] Step 3-1: Minikube/Kind 설치
- [ ] Step 3-1: Kubernetes 리소스 생성 (Deployment, Service)
- [ ] Step 3-1: 로컬 Kubernetes에 배포 성공
- [ ] Step 3-2: AWS 계정 생성
- [ ] Step 3-2: EC2에 애플리케이션 배포
- [ ] Step 3-2: RDS 연결 성공
- [ ] Step 3-2: S3 연동 구현

### **Phase 4: 아키텍처 및 고급 기술 (2-3개월)**
- [ ] Step 4-1: 서비스 분리 설계 문서 작성
- [ ] Step 4-1: 최소 2개 서비스로 분리
- [ ] Step 4-2: Kafka 로컬 설치 및 Producer/Consumer 구현
- [ ] Step 4-3: MongoDB 설치 및 Spring Data MongoDB 적용

---

## ? 즉시 시작 가능한 작업 (오늘부터!)

### **우선순위 1: JPA 적용 (가장 쉬우면서도 핵심)**
1. `pom.xml`에 JPA 의존성 추가 (5분)
2. `LottoNumber` Entity 클래스 생성 (30분)
3. `LottoRepository` 인터페이스 생성 (30분)
4. `LottoDAO` 코드 수정 (2-3시간)

**예상 소요 시간**: 하루 ~ 이틀

### **우선순위 2: RESTful API 추가 (기존 코드 유지하면서 확장)**
1. `ApiLottoController` 새로 생성 (30분)
2. DTO 클래스 생성 (1시간)
3. API 엔드포인트 3개 구현 (2-3시간)

**예상 소요 시간**: 하루

### **우선순위 3: Docker 기본**
1. Docker 설치 확인 (5분)
2. `Dockerfile` 작성 (30분)
3. 이미지 빌드 및 실행 (30분)

**예상 소요 시간**: 반나절

---

## ? 학습 팁

1. **작은 것부터 시작**: 한 번에 모든 것을 바꾸지 말고 단계적으로
2. **기존 코드 유지**: 새로운 기술을 추가하면서 기존 코드도 동작하게 유지
3. **실습 중심**: 문서만 읽지 말고 실제로 코드 작성
4. **에러와 친해지기**: 에러를 해결하는 과정에서 많이 배움
5. **커뮤니티 활용**: GitHub, Stack Overflow, 공식 문서 적극 활용

---

## ? 추천 학습 자료

### **JPA**
- Spring Data JPA 공식 문서
- "자바 ORM 표준 JPA 프로그래밍" (김영한)

### **Docker**
- Docker 공식 문서
- "초보를 위한 Docker 안내서"

### **Kubernetes**
- Kubernetes 공식 문서
- "Kubernetes 완벽 가이드"

### **AWS**
- AWS 공식 문서
- AWS Free Tier 가이드

---

## ? 다음 단계

**오늘 바로 시작할 수 있는 것**:
1. ? JPA 의존성 추가
2. ? 첫 번째 Entity 클래스 생성
3. ? Dockerfile 작성

**이번 주 목표**:
- JPA 적용 완료
- RESTful API 기본 구조 구축

**이번 달 목표**:
- Phase 1 완료 (JPA + RESTful API)
- Phase 2 시작 (Docker + Redis)

